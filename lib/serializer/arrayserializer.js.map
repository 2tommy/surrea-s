{"version":3,"file":"arrayserializer.js","sourceRoot":"","sources":["../../src/serializer/arrayserializer.ts"],"names":[],"mappings":";;AAEA;IACC,yBAAoB,KAAoB;QAApB,UAAK,GAAL,KAAK,CAAe;IAAI,CAAC;IAEtC,mCAAS,GAAhB,UAAiB,QAAa;QAC7B,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC;YACb,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;QAEjD,IAAA,kBAAK,CAAU;QACrB,IAAI,IAAI,GAAQ,EAAE,CAAC;QAEnB,GAAG,CAAC,CAAK,IAAA,CAAC,GAAG,CAAC,EAAI,uBAAM,EAAY,CAAC,GAAG,QAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACrD,IAAI,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YAEnB,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;gBACjC,MAAM,IAAI,KAAK,CAAC,sCAAoC,GAAG,OAAI,CAAC,CAAC;YAE9D,IAAI,GAAG,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;YAExB,EAAE,CAAC,CAAC,OAAM,CAAC,GAAG,CAAC,KAAK,WAAW,CAAC;gBAC/B,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;QAClB,CAAC;QAED,MAAM,CAAC,IAAI,CAAC;IACb,CAAC;IAEM,qCAAW,GAAlB,UAAmB,MAAW,EAAE,QAAa;QAC5C,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;YACX,MAAM,IAAI,KAAK,CAAC,2BAA2B,CAAC,CAAC;QAE9C,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC;YACb,MAAM,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC;QAEjD,IAAA,kBAAK,CAAU;QACrB,GAAG,CAAC,CAAK,IAAA,CAAC,GAAG,CAAC,EAAI,uBAAM,EAAY,CAAC,GAAG,QAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACrD,IAAI,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YAEnB,IAAI,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;YAEtB,EAAE,CAAC,CAAC,OAAM,CAAC,GAAG,CAAC,KAAK,WAAW,CAAC;gBAC/B,QAAQ,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;QACtB,CAAC;IACF,CAAC;IACF,sBAAC;AAAD,CAAC,AA1CD,IA0CC;AA1CY,0CAAe","sourcesContent":["import { ISerializer } from './ISerializer';\n\nexport class ArraySerializer implements ISerializer<any, any> {\n\tconstructor(private props: Array<string>) { }\n\n\tpublic serialize(instance: any): any {\n\t\tif (!instance)\n\t\t\tthrow new Error('No serialization instance provided');\n\n\t\tlet { props } = this;\n\t\tlet json: any = {};\n\n\t\tfor (let i = 0, { length } = props; i < length; i++) {\n\t\t\tlet key = props[i];\n\n\t\t\tif (!instance.hasOwnProperty(key))\n\t\t\t\tthrow new Error(`Invalid instance property name \"${ key }\"`);\n\n\t\t\tlet val = instance[key];\n\n\t\t\tif (typeof(val) !== 'undefined')\n\t\t\t\tjson[key] = val;\n\t\t}\n\n\t\treturn json;\n\t}\n\n\tpublic deserialize(source: any, instance: any) {\n\t\tif (!source)\n\t\t\tthrow new Error('No source object provided');\n\n\t\tif (!instance)\n\t\t\tthrow new Error('No serialization instance provided');\n\n\t\tlet { props } = this;\n\t\tfor (let i = 0, { length } = props; i < length; i++) {\n\t\t\tlet key = props[i];\n\n\t\t\tlet val = source[key];\n\n\t\t\tif (typeof(val) !== 'undefined')\n\t\t\t\tinstance[key] = val;\n\t\t}\n\t}\n}"]}